import 'package:flutter/material.dart';import 'package:image_stack/image_stack.dart';import 'package:instagram_clone/app/extensions/screen_util_extension.dart';import 'package:instagram_clone/models/global_data.dart';import 'package:instagram_clone/ui/shared/ui_helpers.dart';import 'package:instagram_clone/ui/theme/app_text_styles.dart';import 'package:instagram_clone/ui/theme/palette.dart';import 'package:instagram_clone/ui/views/home/home_view_model.dart';import 'package:instagram_clone/ui/views/widgets/circle_progressbar.dart';import 'package:readmore/readmore.dart';import 'package:stacked/stacked.dart';class HomeBody extends ViewModelWidget<HomeViewModel> {  @override  Widget build(BuildContext context, HomeViewModel viewModel) {    print('viewModel.busy-----');    print(viewModel.isBusy);    return viewModel.isBusy        ? showCircleProgress()        : ListView.builder(            itemCount: GlobalData?.homeDataModel?.length ?? 0,            itemBuilder: (context, index) => Padding(              padding: const EdgeInsets.symmetric(vertical: 10),              child: Column(                crossAxisAlignment: CrossAxisAlignment.start,                children: [                  Padding(                    padding: const EdgeInsets.all(10),                    child: Row(                      children: [                        CircleAvatar(                          radius: 16.0,                          backgroundImage: NetworkImage(                              GlobalData.homeDataModel[index].mediumThumbnail),                          backgroundColor: Colors.transparent,                        ),                        horizontalSpaceSmall,                        Text(                          GlobalData.homeDataModel[index].channelname,                          style: Theme.of(context).textTheme.subtitle2,                        ),                      ],                    ),                  ),                  Image.network(                    GlobalData.homeDataModel[index].highThumbnail,                    fit: BoxFit.cover,                    height: 300.h,                  ),                  verticalSpaceSmall,                  Row(                    children: [                      Expanded(                        flex: 9,                        child: Row(                          children: [                            horizontalSpaceSmall,                            Image.asset(                              'assets/heart.png',                              width: 22,                              height: 22,                            ),                            horizontalSpaceMedium,                            Image.asset(                              'assets/chat.png',                              width: 22,                              height: 22,                            ),                            horizontalSpaceMedium,                            Image.asset(                              'assets/send.png',                              width: 22,                              height: 22,                            ),                          ],                        ),                      ),                      Expanded(                        flex: 1,                        child: InkWell(                            onTap: () {                              viewModel.saveBookmark(                                  GlobalData.homeDataModel[index]);                            },                            child: Image.asset(                              'assets/bookmark-white.png',                              width: 22,                              height: 22,                              color: Colors.black,                            )),                      ),                    ],                  ),                  verticalSpaceSmall,                  Row(                    mainAxisAlignment: MainAxisAlignment.start,                    children: <Widget>[                      horizontalSpaceExtraLarge,                      ImageStack(                        imageList: List.generate(                            GlobalData.homeDataModel.length,                            (index) =>                                GlobalData.homeDataModel[index].lowThumbnail),                        imageRadius: 26,                        imageCount: 3,                        imageBorderWidth: 3,                        totalCount: 3,                      ),                      horizontalSpaceTiny,                      RichText(                        text: TextSpan(                          text: 'Liked by ',                          style: AppTextStyles.secondaryTextStyle2(),                          children: <TextSpan>[                            TextSpan(                              text: 'johny ',                              style: AppTextStyles.secondaryTextStyle2()                                  .copyWith(fontWeight: FontWeight.bold),                            ),                            TextSpan(                              text: 'and',                              style: AppTextStyles.secondaryTextStyle2(),                            ),                            TextSpan(                              text: ' 17745 others',                              style: AppTextStyles.secondaryTextStyle2()                                  .copyWith(fontWeight: FontWeight.bold),                            ),                          ],                        ),                      ),                      // Text('Liked by johny and 17745 others')                    ],                  ),                  verticalSpaceTiny,                  Padding(                    padding: const EdgeInsets.symmetric(horizontal: 12),                    child: ReadMoreText(                      GlobalData.homeDataModel[index].title,                      trimLines: 1,                      style: AppTextStyles.secondaryTextStyle2(),                      colorClickableText: Colors.black,                      trimMode: TrimMode.Line,                      trimCollapsedText: 'more',                      delimiter: '   ',                      trimExpandedText: 'less',                      lessStyle: TextStyle(                          fontSize: 14, color: Palette.secondaryTextColor),                      moreStyle: TextStyle(                          fontSize: 14, color: Palette.secondaryTextColor),                    ),                  ),                  verticalSpaceTiny,                  Padding(                    padding: const EdgeInsets.symmetric(horizontal: 12),                    child: InkWell(                      onTap: viewModel.viewComment,                      child: Text(                        'View all comments',                        style: AppTextStyles.secondaryTextStyle2()                            .copyWith(color: Palette.secondaryTextColor),                      ),                    ),                  )                ],              ),            ),          );  }}